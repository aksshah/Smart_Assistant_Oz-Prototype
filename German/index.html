<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Luma Conversation</title>
    <link rel="stylesheet" href="smart_assistant.css" />
    <script
      src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs"
      type="module"
    ></script>
  </head>
  <body>
    <div class="iphone_mock" id="tap-area">
      <dotlottie-player
        class="siri_animation"
        id="siri_animation"
        src="https://lottie.host/ec33760a-907d-414d-87e4-e5ff617c20b3/vxehl90Fqy.lottie"
        background="transparent"
        speed="1"
        loop
        autoplay
      ></dotlottie-player>
    </div>
    <script>
      let tapCount = 0 // Initialize tap counter
      let currentAudio = null // To keep track of the currently playing audio

      // Function to play audio based on the tap count
      function playAudio(file) {
        // If an audio is currently playing, stop it
        if (currentAudio) {
          currentAudio.pause()
          currentAudio.currentTime = 0 // Reset the audio to the beginning
        }

        // Create and play the new audio file
        currentAudio = new Audio(file)
        currentAudio.play()
      }

      // Function to process tap and play corresponding audio based on tap count
      function processTap() {
        let audioFile = ""

        // Increment the tap count
        tapCount++

        // Determine which audio file to play based on tap count
        if (tapCount === 1) {
          audioFile = "audio/response_1.mp4" // First tap plays first audio
        } else if (tapCount === 2) {
          audioFile = "audio/response_2.mp4" // Second tap plays second audio
        } else if (tapCount === 3) {
          audioFile = "audio/response_3.mp4" // Third tap plays third audio
        } else if (tapCount === 4) {
          audioFile = "audio/response_4.mp4" // Fourth tap plays fourth audio
        }

        // Play the selected audio file
        playAudio(audioFile)
      }

      // Set up the tap event listener
      const tapArea = document.getElementById("tap-area")
      tapArea.addEventListener("click", function () {
        console.log("Screen tapped! Tap number:", tapCount)
        processTap()
      })
    </script>
  </body>
</html>
